"use strict";(self.webpackChunkadmin_panel_frontend=self.webpackChunkadmin_panel_frontend||[]).push([[676],{3862:(e,a,n)=>{n.d(a,{A:()=>t});const t=n(9722).A.create({baseURL:"http://localhost:5000"})},8676:(e,a,n)=>{n.r(a),n.d(a,{default:()=>w});var t=n(9379),i=n(5043),l=n(5795),r=n(3438),s=n(7392),o=n(6446),d=n(5865),c=n(8911),u=n(8768),m=n(1019),h=n(3560),g=n(3768),p=n(7968),A=n(3862),f=n(2378),v=n(579);const x="https://langingpage-production-f27f.up.railway.app";function C(e){if(!e)return"N/A";const a=new Date(e),n=a.getFullYear(),t=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0"),l=String(a.getHours()).padStart(2,"0"),r=String(a.getMinutes()).padStart(2,"0"),s=String(a.getSeconds()).padStart(2,"0");return"".concat(n,"-").concat(t,"-").concat(i," ").concat(l,":").concat(r,":").concat(s)}function w(){const[e,a]=(0,i.useState)([]),[w,b]=(0,i.useState)(null),[j,S]=(0,i.useState)({}),[_,k]=(0,i.useState)(""),[N,y]=(0,i.useState)(3),z=async()=>{const e=await A.A.get("".concat(x,"/api/inquiries"));a(e.data)};(0,i.useEffect)(()=>{z()},[]),(0,i.useEffect)(()=>{console.log("Fetched inquiries:",e)},[e]);const q=e=>{S((0,t.A)((0,t.A)({},j),{},{[e.target.name]:e.target.value}))},E=async()=>{await A.A.put("".concat(x,"/api/inquiries/").concat(w),j),b(null),z()},F=[{field:"name",headerName:"Name",flex:1,filterable:!0,editable:!1,renderCell:e=>w===e.row._id?(0,v.jsx)(l.A,{name:"name",value:j.name||"",onChange:q,size:"small",variant:"standard"}):e.value},{field:"email",headerName:"Email",flex:1,filterable:!0,editable:!1,renderCell:e=>w===e.row._id?(0,v.jsx)(l.A,{name:"email",value:j.email||"",onChange:q,size:"small",variant:"standard"}):e.value},{field:"phone",headerName:"Phone",flex:1,filterable:!0,editable:!1,renderCell:e=>w===e.row._id?(0,v.jsx)(l.A,{name:"phone",value:j.phone||"",onChange:q,size:"small",variant:"standard"}):e.value},{field:"message",headerName:"Message",flex:2,filterable:!0,editable:!1,renderCell:e=>w===e.row._id?(0,v.jsx)(l.A,{name:"message",value:j.message||"",onChange:q,size:"small",variant:"standard",multiline:!0,minRows:2}):e.value},{field:"createdAt",headerName:"createdAt",flex:1,filterable:!0,editable:!1,renderCell:e=>w===e.row._id?(0,v.jsx)(l.A,{name:"message",value:j.createdAt||"",onChange:q,size:"small",variant:"standard",multiline:!0,minRows:2}):e.value},{field:"actions",headerName:"Actions",sortable:!1,filterable:!1,renderCell:e=>(0,v.jsx)(v.Fragment,{children:w===e.row._id?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(r.A,{onClick:E,color:"primary",children:"Save"}),(0,v.jsx)(r.A,{onClick:()=>b(null),color:"secondary",children:"Cancel"})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(s.A,{onClick:()=>{return a=e.row,b(a._id),void S((0,t.A)({},a));var a},"aria-label":"edit",children:(0,v.jsx)(h.A,{})}),(0,v.jsx)(s.A,{onClick:()=>(async e=>{await A.A.delete("".concat(x,"/api/inquiries/").concat(e)),z()})(e.row._id),"aria-label":"delete",children:(0,v.jsx)(g.A,{})})]})}),width:160}],L=(0,i.useMemo)(()=>_?e.filter(e=>{var a,n,t,i;const l=_.toLowerCase();return(null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(l))||(null===(n=e.email)||void 0===n?void 0:n.toLowerCase().includes(l))||(null===(t=e.phone)||void 0===t?void 0:t.toLowerCase().includes(l))||(null===(i=e.message)||void 0===i?void 0:i.toLowerCase().includes(l))}):e,[e,_]),P=L.map(e=>({Name:e.name,Email:e.email,Phone:e.phone,Message:e.message,"Created At":C(e.createdAt)}));return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(o.A,{p:3,children:[(0,v.jsx)(d.A,{variant:"h6",mb:2,children:"Business Inquiry"}),(0,v.jsxs)(c.A,{direction:"row",spacing:2,mb:2,children:[(0,v.jsx)(l.A,{label:"Search",value:_,onChange:e=>k(e.target.value),size:"small"}),(0,v.jsx)(r.A,{variant:"outlined",startIcon:(0,v.jsx)(p.A,{}),component:f.CSVLink,data:P,filename:"inquiries.csv",children:"Export CSV"}),(0,v.jsx)(r.A,{variant:"outlined",startIcon:(0,v.jsx)(p.A,{}),onClick:async()=>{const e=(await n.e(762).then(n.bind(n,7762))).default,a=(await n.e(857).then(n.bind(n,4857))).default,t=new e;t.text("Inquiries",14,10),a(t,{head:[["Name","Email","Phone","Message","CreateAt"]],body:L.map(e=>[e.name,e.email,e.phone,e.message,e.createdAt])}),t.save("inquiries.pdf")},children:"Export PDF"})]}),(0,v.jsx)(o.A,{sx:{height:400,width:"100%"},children:(0,v.jsx)(u.z,{rows:L.map(e=>(0,t.A)((0,t.A)({},e),{},{id:e._id,createdAt:e.createdAt||null})),columns:F,pageSize:N,onPageSizeChange:e=>y(e),rowsPerPageOptions:[3,6,9,15],pagination:!0,components:{Toolbar:m.O},disableSelectionOnClick:!0,autoHeight:!0})})]})})}}}]);
//# sourceMappingURL=676.d5fd8ed7.chunk.js.map